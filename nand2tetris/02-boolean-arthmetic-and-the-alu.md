# 02 boolean arthmetic and the alu

## 2.1. Binary numbers

2진법에 대한 간단한 설명. 자세한 내용은 생략


## 2.2. Binary addition

이진법을 더하는 법. 10진수처럼 더하면 된다.

다만 할당된 비트 (ex. 8bit + 8bit)를 넘어서는 carry는 overflow로 처리된다.

3가지 형태의 adder를 만들어볼 예정

### Half adder

두 bit를 더함. 

a, b를 더해서 sum(값)과 carry가 나옴

```
| a | b | sum | carry |
| 0 | 0 | 0   | 0     |
| 0 | 1 | 1   | 0     |
| 1 | 0 | 1   | 0     |
| 1 | 1 | 0   | 0     |
```

### Full adder

위의 half adder에서 이전 계산에서 나온 carry도 받는 adder

a, b, c(이전 carry)를 받아서 sum, carry를 리턴한다

총 진리표를 그려보면 8가지가 나옴

```
| a | b | c | sum | carry |
| 0 | 0 | 0 | 0   | 0     |
...
| 1 | 1 | 1 | 1   | 1     |
```


### Multi-bit Adder

두 full number를 더해서 output을 내보내는 adder.

16-bit adder는 16bit a, b를 받아 16bit output을 반환한다.


## 2.3. Negative Numbers

4 bits로 나타낼 수 있는 양수는 0~15 이다. (0000, 0001, ... 1111)

4bit로 음수를 나타는 데에는 여러가지 방법이 있다.

가장 간단한 방법은 음수일 경우 가장 첫번째 bit를 1로 바꾸는 방법

ex.)
```
0001 -> 1
1111 -> -1
0010 -> 2
1010 -> -2
...
```

하지만 위 방법은 여러가지 이유로 쓰이지 않음. 위 경우라면 `1000`이 `-0`이 되어 구현시에 매번 이를 처리해주어야됨.

그래서 쓰이는 법은 `2의 보수법`

> 음수 -x를 "2의n승 - x" (`2**n - x`)로 표현하는 방법

```
0000 0
0001 1
0010 2
0011 3
0100 4
0101 5
0110 6
0111 7
1000 -8 (8)
1001 -7 (9)
1010 -6 (10)
1011 -5 (11)
1100 -4 (12)
1101 -3 (13)
1110 -2 (14)
1111 -1 (15)
```

위에서 음수 3을 구하려면 2의 4승에서 3을 뺀 13이 음수3이 된다. (`2**4 -3`) 


### 2의 보수의 장점

***더하기 가능***

`-2 + -3`

```
  -2 -> 14 -> 1110
+ -3 -> 13 -> 1101
```


`1110 + 1101 = 11011`이지만, 11011은 4bit를 넘으므로 overflow를 제외한 `1011`인 `11`을 값으로 쓴다.

`1011` -> `11` -> `-5` (-2 + -3)


### Computing -x

_ Input: x
_ Output: -x (in 2s complement)

```
2**n - x = 1 + (2**n -  1) - x
```

`2**n - 1`은 `111111..` 이므로 x를 빼고 마지막에 1만 더해주면 됨.

ex. 4의 음수인 -4를 구하려면?

4: `0100`

- 1. 1111에서 4(0100)를 빼줌: `1111 - 0100 = 1011`
- 2. 위해서 구한 값(`1011`)에서 1을 더해줌: `1011 + 1 = 1100` -> 우리가 구하려던 값 (12)이 나온걸 알 수 있음

## 2.4. Arithmetic Logic Unit (ALU)

폰 노이만 다이어그램을 보면 CPU의 핵심이 ALU인 것을 볼 수 있음.

> ALU는 두 input을 받아 output을 내보내 주는 function

- Arithmetic operations: interger addition, multiplication, division...
- logical operations: And, Or, Xor ...

### The Hack ALU


